{% extends 'base.html.twig' %}

{% block styles %}
    {{ encore_entry_link_tags('modal', null, 'css') }}
    {{ encore_entry_link_tags('airbnb', null, 'css') }}
    {{ encore_entry_link_tags('roomGallery', null, 'css') }}
{% endblock %}

{% block title %}Room{% endblock %}

{% block body %}
    <div class="res-hero">
        <div class="res-overlay"></div>
        <div class="res-cover" data-stellar-background-ratio="0.5" style="background-image: url({{ media[0]['media'].url }});">
            <div class="desc">
                {% block reservation %}
                    {% include "./homepage/reservation.html.twig" with {form: availabilityForm, header: 'Wynajmij ' ~ room.name, widgetHeader: 'Sprawdź dostępność pokoju'} %}
                {% endblock %}
            </div>
        </div>
    </div>

    <h1 class="id-js" data-room-id = {{ room.id }}>Room</h1>

    <div class="col-md-8 col-md-offset-2 text-center heading-section">
        <h2>Zobacz zdjęcia pokoju</h2>
    </div>

    <div id="res-room" class="res-section-room">
        <div class="container">
            <div class="row">

                <section class="gallery">
                    <div class="carousel">
                        {% for image in media %}
                            <input type="radio" id="image{{ image['index'] }}" name="gallery-control">
                        {% endfor %}
                        <input type="checkbox" id="fullscreen" name="gallery-fullscreen-control"/>
                        <div class="wrap">
                            {% for image in media %}
                                <figure>
                                    <label for="fullscreen">
                                        <img src="{{ image['media'].url }}" alt="image{{ image['index'] }}"/>
                                    </label>
                                </figure>
                            {% endfor %}
                        </div>
                        <div class="thumbnails">
                            <div class="slider">
                                <div class="indicator"></div>
                            </div>
                            {% for image in media %}
                                <label for="image{{ image['index'] }}" class="thumb"
                                       style="background-image: url({{ image['media'].formats['sulu-100x100.webp'] }})">
                                </label>
                            {% endfor %}
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    {% block modal %}
        {% include 'room/roomNotAvailable.html.twig' with {roomName: room.name} %}
        {% include 'room/availabilityModal.html.twig' with {form: availabilityForm, roomName: room.name} %}
        {% include 'room/modal.html.twig' with {form: form} %}
    {% endblock %}

    {% block js %}
        {{ encore_entry_script_tags('flatpickr', null, 'js') }}
    {% endblock %}

{% endblock %}
